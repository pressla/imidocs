<!DOCTYPE html>

<html class="no-js" data-vp-page-id="5636621" data-vp-page-template="article" lang="en">
<head>
<!--CDP_HEAD_START-->
<!--CDP_HEAD_END-->
<meta charset="utf-8"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="../../cx/4.3" name="repository-base-url"/>
<meta content="2023-12-11T08:31Z" name="source-last-modified"/>
<meta content="1.4" name="Help Center Version"/>
<link href="https://docs.expertflow.com/__assets-97a95649-cfe7-4cb2-a1a6-99808562388d/image/expertflow-docs-favicon-32-32.png" rel="icon"/>
<link href="https://docs.expertflow.com/__assets-97a95649-cfe7-4cb2-a1a6-99808562388d/image/expertflow-docs-favicon-32-32.png" rel="apple-touch-icon"/>
<link href="https://docs.expertflow.com/cx/4.3/rke2-single-node-installation-without-ha" rel="canonical"/>
<link href="https://docs.expertflow.com/cx/4.3/rke2-single-node-installation-without-ha" hreflang="en" rel="alternate"/>
<link href="https://docs.expertflow.com/cx/4.3/rke2-single-node-installation-without-ha" hreflang="x-default" rel="alternate"/>
<!-- HelpCenter config -->
<!-- Primary Meta Tags -->
<meta content="RKE2 Single-Node Installation ( Without HA )" name="title"/>
<meta content="Purpose The purpose of this document is to describe the additional system requirements and steps to deploy the Single-Node RKE2 Kubernetes Distribu..." name="description"/>
<meta content="Purpose The purpose of this document is to describe the additional system requirements and steps to deploy the Single-Node RKE2 Kubernetes Distribu..." property="og:description"/>
<meta content="Purpose The purpose of this document is to describe the additional system requirements and steps to deploy the Single-Node RKE2 Kubernetes Distribu..." property="twitter:description"/>
<!-- Open Graph / Facebook -->
<meta content="website" property="og:type"/>
<meta content="https://docs.expertflow.com/cx/4.3/rke2-single-node-installation-without-ha" property="og:url"/>
<meta content="RKE2 Single-Node Installation ( Without HA )" property="og:title"/>
<meta content="https://docs.expertflow.com/__assets-97a95649-cfe7-4cb2-a1a6-99808562388d/image/ef-logo-transparent.png" property="og:image"/>
<!-- Twitter -->
<meta content="summary_large_image" property="twitter:card"/>
<meta content="RKE2 Single-Node Installation ( Without HA )" property="twitter:title"/>
<meta content="https://docs.expertflow.com/__assets-97a95649-cfe7-4cb2-a1a6-99808562388d/image/ef-logo-transparent.png" property="twitter:image"/>

<!-- Google Tag Manager -->

<!-- End Google Tag Manager -->
<!-- Google Analytics (gtag) -->

<!-- End Google Analytics (gtag) -->
<link href="../../__theme/css/app--b6a416c0af4cf77d3f2c.css" rel="stylesheet"/>
<link href="../../__assets-97a95649-cfe7-4cb2-a1a6-99808562388d/css/custom.css" id="theme-asset-custom-css" rel="stylesheet"/>

<title>RKE2 Single-Node Installation ( Without HA )</title>
</head>
<!-- pageid attribute is deprecated - please use data-vp-page-id on html element instead -->
<body class="flex flex-col min-h-screen" pageid="5636621">
<div id="vp-js-cookies__notice"></div>
<vp-a11y-skip-controller>
<a class="vp-a11y-skip-trigger" href="#content">
<i18n-message i18nkey="navigation.skip.to.main.label">
                        Skip to main content
                    </i18n-message>
</a>
</vp-a11y-skip-controller>
<button class="vp-a11y-skip-trigger vp-js-a11y-navigation-toggle" type="button">
<i18n-message i18nkey="navigation.open.label">
                    Show navigation
                </i18n-message>
</button>
<header class="header hc-header-background-color" data-vp-component="header">
<div class="header__navigation relative">
<div class="hc-header-background-color relative z-10" id="site-navigation">
<div class="top-bar header__navigation--large vp-container hc-header-background-color hc-header-font-color">
<div class="top-bar-left">
<ul class="flex flex-wrap flex-row gap-4 items-center relative m-0 p-0 list-none hc-header-background-color">
<li class="leading-none align-self-center header__navigation--logo">
<vp-localized-link>
<a href="../../?l=en">
<img alt="" src="../../__assets-97a95649-cfe7-4cb2-a1a6-99808562388d/image/ef-logo-transparent.png"/>
<i18n-message class="sr-only" i18nkey="header.home.label">
                                        Go to homepage
                                    </i18n-message>
</a>
</vp-localized-link>
</li>
</ul>
</div>
<div class="top-bar-right no-print">
<div class="header__navigation--large__menu hc-header-background-color">
<ul class="flex flex-row m-0 p-0 list-none render-links">
<li class="order-6 lg:order-2 render-links--link render-links--link--border">
<a class="block px-4 py-3 hc-header-font-color" href="https://www.expertflow.com/" rel="noopener">
            Expertflow Home
        </a>
</li>
<li class="order-6 lg:order-2 render-links--link">
<a class="block px-4 py-3 hc-header-font-color" href="https://api.expertflow.com/" rel="noopener">
            Public Access APIs
        </a>
</li>
<li class="order-6 lg:order-2 render-links--link">
<a class="block px-4 py-3 hc-header-font-color" href="https://expertflow-docs.atlassian.net/wiki/login.action?os_destination=/spaces" rel="noopener">
            Login
        </a>
</li>
</ul>
<div class="ml-2 my-auto" id="vp-js-desktop__navigation__picker">
<!-- These are just placeholders and will be replaced by the actual pickers which are rendered by preact -->
<div class="vp-picker vp-version-picker">
<button class="vp-button vp-button--variant-outline vp-picker__button">
                                            4.3
                                        </button>
</div>
</div>
<div class="my-auto list-none ml-4">
<div aria-hidden="true" class="vp-search-bar" data-vp-component="search-bar" data-vp-id="search-bar-placeholder" data-vp-variant="">
<form action="/search.html" class="vp-search-bar__input-container" method="GET">
<div class="vp-search-input vp-search-input--border" data-vp-component="search-input" data-vp-variant="border">
<input autocomplete="off" class="vp-search-input__input" style="margin-right: 0;" type="search" value=""/>
</div>
</form>
</div>

</div>
</div>
<button class="vp-js-header-search-toggle vp-button header__navigation--button hc-header-font-color" type="button">
<svg aria-hidden="true" data-vp-component="icon" data-vp-id="header-search-toggle-icon" fill="none" height="20" viewbox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">
<path d="M8.99452 14.5C10.5121 14.5 11.809 13.9669 12.8854 12.9007C13.9618 11.8345 14.5 10.5361 14.5 9.00548C14.5 7.48794 13.9631 6.19097 12.8893 5.11458C11.8155 4.03819 10.519 3.5 9 3.5C7.46786 3.5 6.16816 4.0369 5.1009 5.11071C4.03363 6.18453 3.5 7.48096 3.5 9C3.5 10.5321 4.0331 11.8318 5.09929 12.8991C6.1655 13.9664 7.46391 14.5 8.99452 14.5ZM9 16C8.02913 16 7.11974 15.816 6.27185 15.4479C5.42395 15.0799 4.68056 14.5799 4.04167 13.9479C3.40278 13.316 2.90278 12.576 2.54167 11.728C2.18056 10.88 2 9.97053 2 8.99956C2 8.04152 2.18403 7.13542 2.55208 6.28125C2.92014 5.42708 3.41864 4.68387 4.04758 4.0516C4.67653 3.41935 5.41569 2.91935 6.26508 2.5516C7.11449 2.18387 8.02548 2 8.99806 2C9.95769 2 10.8646 2.18403 11.7188 2.55208C12.5729 2.92014 13.316 3.42014 13.9479 4.05208C14.5799 4.68403 15.0799 5.42612 15.4479 6.27835C15.816 7.13058 16 8.0381 16 9.00094C16 9.83365 15.8615 10.6213 15.5846 11.3638C15.3078 12.1062 14.9254 12.7836 14.4375 13.3958L18 16.9583L16.9375 18L13.375 14.4583C12.7668 14.9459 12.0939 15.3247 11.3564 15.5948C10.6188 15.8649 9.83333 16 9 16Z" fill="currentColor"></path>
</svg>
<i18n-message class="sr-only" i18nkey="search.form.show.label"></i18n-message>
</button>
</div>
</div>
</div>
</div>
</header>
<div class="flex flex-col flex-grow hc-main-wrapper">
<div class="vp-article vp-container article">
<div class="vp-article__aside-left no-print">
<div class="vp-article__aside-left__inner" id="vp-js-desktop__navigation"></div>
</div>
<main class="vp-article__content-panel" id="article-content">
<i18n-message attribute="aria-label" class="vp-breadcrumbs__wrapper" i18nkey="breadcrumb.label">
<nav aria-label="Breadcrumb" class="vp-breadcrumbs" role="navigation">
<div class="breadcrumbs-wrapper">
<ol class="breadcrumbs breadcrumbs--fit-content">
<li>
<a href="../../cx/4.3/" rel="prev">Expertflow CX</a>
<span aria-hidden="true">/</span>
</li>
<li>
<a class="js-breadcrumbs-truncate" href="../../cx/4.3/deployment-guides" rel="prev">Deployment Guides</a>
<span aria-hidden="true">/</span>
</li>
<li>
<a class="js-breadcrumbs-truncate" href="../../cx/4.3/kubernetes-deployment-getting-started" rel="prev">Kubernetes Deployment - Getting Started</a>
<span aria-hidden="true">/</span>
</li>
<li>
<a class="js-breadcrumbs-truncate" href="../../cx/4.3/rke2-pre-deployment-installation-guide-single-mu-1" rel="prev">RKE2 Pre-Deployment &amp; Installation Guide (Single &amp; Multi Node)</a>
</li>
</ol>
</div>
</nav>
</i18n-message>
<div class="vp-a11y-skip-target" id="content" tabindex="-1"></div>
<div class="vp-article__aside-right no-print">
<vp-toc data-vp-component="toc" for="main-content">
<vp-a11y-skip-controller slot="afterbegin">
<a class="vp-a11y-skip-trigger" href="#article-inner-content">
<i18n-message i18nkey="navigation.skip.toc.label">
                                Skip table of contents
                            </i18n-message>
</a>
</vp-a11y-skip-controller>
</vp-toc>
</div>
<div class="vp-article__wrapper" id="article-inner-content" tabindex="-1">
<header class="article-header">
<!-- CSS class article__heading is deprecated and will be removed in the future -->
<h1 class="vp-article__heading article__heading"><span>RKE2 Single-Node Installation ( Without HA )</span></h1>
</header>
<section class="vp-article__content wiki-content article__content" id="main-content">
<div class="contentLayout2">
<div class="columnLayout two-right-sidebar" data-layout="two-right-sidebar" data-layout-mode="default">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Purpose"><span class="legacy-color-text-default">Purpose</span></h2><p><span class="legacy-color-text-default">The purpose of this document is to describe the additional system requirements and steps to deploy the Single-Node RKE2 Kubernetes Distribution.</span></p><h2 id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Pre-requisitesforSingle-NodeInstallation"><span class="legacy-color-text-default">Pre-requisites for Single-Node Installation</span></h2><p><span class="legacy-color-text-default">T<span>he prerequisites and pre-deployment phases are describe in the <a data-linked-resource-id="5571673" data-linked-resource-type="page" data-linked-resource-version="3" href="../../cx/4.3/rke2-pre-deployment-installation-guide-single-mu-1">RKE2 Pre-Deployment &amp; Installation Guide (Single &amp; Multi Node)</a></span></span><span class="legacy-color-text-default">. Please complete the steps before proceeding with Single-Node Installation.</span></p><p><br clear="none"/></p></div>
</div>
<div class="cell aside" data-type="aside">
<div class="innerCell">
<div aria-label="Note" class="panel-macro panel-macro--panel panel-macros--panel" data-type="note" role="note" style="--color-background: #f9f9f9;">
<div class="panel-macro__icon panel-macros--panel__icon">
</div>
<div class="panel-macro__content panel-macros--panel__content">
<p class="panel-macro__content--heading panel-macros--panel__content--heading">Quick Links</p>
<p>
</p><div class="plugin_pagetree">
<ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
<div class="plugin_pagetree_children">
</div>
</ul>
<fieldset class="hidden">
<input name="treeId" type="hidden" value=""/>
<input name="treeRequestId" type="hidden" value="/wiki/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false&amp;expandCurrent=false"/>
<input name="treePageId" type="hidden" value="5636621"/>
<input name="noRoot" type="hidden" value="false"/>
<input name="rootPageId" type="hidden" value="5571673"/>
<input name="rootPage" type="hidden" value=""/>
<input name="startDepth" type="hidden" value="0"/>
<input name="spaceKey" type="hidden" value="CX"/>
<input name="i18n-pagetree.loading" type="hidden" value="Loading..."/>
<input name="i18n-pagetree.error.permission" type="hidden" value="Unable to load page tree. It seems that you do not have permission to view the root page."/>
<input name="i18n-pagetree.eeror.general" type="hidden" value="There was a problem retrieving the page tree. Please check the server log file for more information."/>
<input name="loginUrl" type="hidden" value="/wiki/login.action?os_destination=%2Frest%2Fapi%2Fcontentbody%2Fconvert%2Fexport_view%3Fexpand%3D"/>
<input name="mobile" type="hidden" value="false"/>
<fieldset class="hidden">
<input name="ancestorId" type="hidden" value="5571673"/>
</fieldset>
</fieldset>
</div>
<p></p>
</div>
</div>
</div>
</div>
</div>
<div class="columnLayout single" data-layout="single" data-layout-mode="default">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p><span style="font-size: 24.0px;letter-spacing: -0.01em;">Installation Steps</span></p>
<div aria-label="Note" class="panel-macro panel-macro--panel panel-macros--panel" data-type="note" role="note">
<div class="panel-macro__icon panel-macros--panel__icon">
</div>
<div class="panel-macro__content panel-macros--panel__content">
<p class="panel-macro__content--heading panel-macros--panel__content--heading">Customize the RKE2 Deployment for your Environment</p>
<div class="expand-container" id="expander-749042078"><div class="expand-control" id="expander-control-749042078"><span class="expand-control-icon"></span><span class="expand-control-text">Click here to see customization steps.....</span></div><div class="expand-content" id="expander-content-749042078"><p><span class="legacy-color-text-blue3">Below given options can also be used for customized environment setup:</span></p><div class="table-wrap" data-layout="default"><table class="wrapped relative-table confluenceTable" style="width: 100.0%;"><colgroup span="1"><col span="1" style="width: 17.4512%;"/></colgroup><colgroup span="1"><col span="1" style="width: 17.0094%;"/></colgroup><colgroup span="1"><col span="1" style="width: 29.8997%;"/></colgroup><colgroup span="1"><col span="1" style="width: 35.6397%;"/></colgroup><tbody><tr><th class="confluenceTh" colspan="1" rowspan="1">Option</th><th class="confluenceTh" colspan="1" rowspan="1">Switch</th><th class="confluenceTh" colspan="1" rowspan="1">Default</th><th class="confluenceTh" colspan="1" rowspan="1">Description</th></tr><tr><td class="confluenceTd" colspan="1" rowspan="1"><span class="legacy-color-text-blue3">Default Deployment Directory of RKE2 (Not recommended)</span></td><td class="confluenceTd" colspan="1" rowspan="1"><p><code><strong>--data-dir</strong> value, </code><code style="letter-spacing: 0.0px;"><strong>-d</strong></code><span style="letter-spacing: 0.0px;"> </span><span style="letter-spacing: 0.0px;">value</span></p></td><td class="confluenceTd" colspan="1" rowspan="1"><strong><code>/var/lib/rancher/rke2</code></strong><span> </span>or<span> </span><strong><code>${HOME}/.rancher/rke2</code></strong><span> </span>if not root</td><td class="confluenceTd" colspan="1" rowspan="1">Important Note: Moving the default destination folder to another location is not recommended. However, if there is need for storing the containers in different partition, it is recommended to deploy the containerd separately and change its destination to  the partition where you have space available using <code>--root</code>  flag in containerd.server manifest, and subsequently adding <code>#container-runtime-endpoint: "/path/to/containerd.sock"</code> switch in RKE2 config.yaml file. </td></tr><tr><td class="confluenceTd" colspan="1" rowspan="1"><span class="legacy-color-text-blue3">Default POD IP Assignment Range</span></td><td class="confluenceTd" colspan="1" rowspan="1"><pre>--cluster-cidr value</pre></td><td class="confluenceTd" colspan="1" rowspan="1"><strong><span data-colorid="x2unildltl">"10.42.0.0/16"</span></strong></td><td class="confluenceTd" colspan="1" rowspan="1"><span data-colorid="hxiw8t88tt">IPv4/IPv6 network CIDRs to use for pod IPs</span></td></tr><tr><td class="confluenceTd" colspan="1" rowspan="1"><span class="legacy-color-text-blue3">Default Service IP Assignment Range</span></td><td class="confluenceTd" colspan="1" rowspan="1"><strong><code>--service-cidr</code></strong><span data-colorid="z5bpc7udzg"><span> </span>value</span></td><td class="confluenceTd" colspan="1" rowspan="1"><strong><span data-colorid="tt3kvllgy9">"10.43.0.0/16"</span></strong></td><td class="confluenceTd" colspan="1" rowspan="1"><span data-colorid="vdh0agea36">IPv4/IPv6 network CIDRs to use for service IPs</span></td></tr></tbody></table></div><p>If any of the above option is required, add it in the next step.</p>
<div aria-label="Note" class="panel-macro panel-macro--note panel-macros--note" data-type="warning" role="note">
<div class="panel-macro__icon panel-macros--note__icon">
<img aria-hidden="true" src="../../__theme/images/common/note-macro-icon--625ed763b7218abfc3ad.svg"/>
</div>
<div class="panel-macro__content panel-macros--note__content">
<p>cluster-cidr and service-cidr are independently evaluated. Decide wisely well before the the cluster deployment. This option is not configurable once the cluster is deployed and workload is running.</p>
</div>
</div>
</div></div>
</div>
</div>
<h3 id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Step1:EnableCustomizationforIngress-Nginx"><span>Step 1: </span>Enable Customization for Ingress-Nginx</h3><p>This step is required for the Nginx Ingress Controller to allow customized configurations:</p><p>1. Create the destination folder</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">mkdir -p  /var/lib/rancher/rke2/server/manifests/</code></pre>
</div><p>2. Generate the ingress-nginx controller config file so that the RKE2 server bootstraps it accordingly.</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">cat&lt;&lt;EOF| tee /var/lib/rancher/rke2/server/manifests/rke2-ingress-nginx-config.yaml
---
apiVersion: helm.cattle.io/v1
kind: HelmChartConfig
metadata:
  name: rke2-ingress-nginx
  namespace: kube-system
spec:
  valuesContent: |-
    controller:
      metrics:
        service:
          annotations:
            prometheus.io/scrape: "true"
            prometheus.io/port: "10254"
      config:
        use-forwarded-headers: "true"
      allowSnippetAnnotations: "true"
EOF</code></pre>
</div><h3 id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Step2:DownloadtheRKE2binariesandstartInstallation"><span>Step 2: </span>Download the RKE2 binaries and start Installation</h3><p>1. Run the below command on the master node. RKE2 will be installed on the master node.</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">curl -sfL https://get.rke2.io |INSTALL_RKE2_TYPE=server  sh - </code></pre>
</div><p><span style="letter-spacing: 0.0px;">2. Enable the rke2-server service</span></p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">systemctl enable rke2-server.service</code></pre>
</div><p class="auto-cursor-target">3. Start the service</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">systemctl start rke2-server.service</code></pre>
</div>
<div aria-label="Note" class="panel-macro panel-macro--note panel-macros--note" data-type="warning" role="note">
<div class="panel-macro__icon panel-macros--note__icon">
<img aria-hidden="true" src="../../__theme/images/common/note-macro-icon--625ed763b7218abfc3ad.svg"/>
</div>
<div class="panel-macro__content panel-macros--note__content">
<p>RKE2 server requires 10-15 minutes (at least) to bootstrap completely  You can check the status of the RKE2 Server using<code> systemctl status rke2-server</code>;  once it reports as running, please proceed with the rest of the steps as given below.</p>
</div>
</div>
<p class="auto-cursor-target"><span style="letter-spacing: 0.0px;">4. By default, RKE2 deploys all the binaries in </span><code style="letter-spacing: 0.0px;">/var/lib/rancher/rke2/bin</code><span style="letter-spacing: 0.0px;">  path.  Add this path to the system's default PATH for kubectl utility to work appropriately.</span></p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">export PATH=$PATH:/var/lib/rancher/rke2/bin
export KUBECONFIG=/etc/rancher/rke2/rke2.yaml</code></pre>
</div><p><span class="legacy-color-text-blue3">5. Also, append these lines into the current user's <code>.bashrc</code>  file</span></p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">echo "export PATH=$PATH:/var/lib/rancher/rke2/bin" &gt;&gt; $HOME/.bashrc
echo "export KUBECONFIG=/etc/rancher/rke2/rke2.yaml"  &gt;&gt; $HOME/.bashrc </code></pre>
</div><p class="auto-cursor-target">6. and source your<span> </span><code>~/.bashrc</code><span> </span> </p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">source ~/.bashrc</code></pre>
</div><pre class="auto-cursor-target"><br clear="none"/></pre><h3 id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Step3:BashCompletionforkubectl"><span>Step 3: </span>Bash Completion for kubectl</h3><p>1. Install bash-completion package</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">yum install bash-completion -y</code></pre>
</div><p>2. Set-up autocomplete in bash into the current shell, <code>bash-completion </code>package should be installed first.</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">source &lt;(kubectl completion bash) 
echo "source &lt;(kubectl completion bash)" &gt;&gt; ~/.bashrc </code></pre>
</div><p>3. Also, add alias for short notation of kubectl</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">echo "alias k=kubectl"  &gt;&gt; ~/.bashrc 
echo "complete -o default -F __start_kubectl k"  &gt;&gt; ~/.bashrc </code></pre>
</div><p class="auto-cursor-target">4. and source your <code>~/.bashrc</code>  </p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">source ~/.bashrc</code></pre>
</div><h3 id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Step4:Installhelm"><span>Step 4: </span>Install helm</h3><p>1. Add this command in ~/.bashrc file.</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">echo "export KUBECONFIG=/etc/rancher/rke2/rke2.yaml" &gt;&gt; ~/.bashrc</code></pre>
</div><p><br clear="none"/></p><p class="auto-cursor-target"><span data-colorid="bczw1g4dmd">2. run this in the command prompt.</span></p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">source ~/.bashrc</code></pre>
</div><p>3. Helm is a super tool to deploy external components. In order to install helm on cluster, execute the following command: </p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">curl -fsSL https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3|bash</code></pre>
</div><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">cd /usr/local/bin
mkdir -p $HOME/bin &amp;&amp; cp ./helm $HOME/bin/helm &amp;&amp; export PATH=$HOME/bin:$PATH

</code></pre>
</div><p class="auto-cursor-target">4. Move to the root</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash"> cd /root</code></pre>
</div><h3 id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Step5:Enablebashcompletionforhelm"><span>Step 5: </span>Enable bash completion for helm</h3><p>1. Generate the scripts for help bash completion</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">helm completion bash &gt; /etc/bash_completion.d/helm</code></pre>
</div><p>2. Either re-login or run this command to enable the helm bash completion instantly.</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">source &lt;(helm completion bash)</code></pre>
</div><h2 class="auto-cursor-target" id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Step6:ClonetheCIMRepo"><span style="font-size: 16.0px;font-weight: bold;letter-spacing: -0.006em;">Step 6: </span><span style="font-size: 16.0px;font-weight: bold;letter-spacing: -0.006em;">Clone the CIM Repo</span></h2><p>Use the following command for CIM Repo:</p><div class="code-macro">
<div class="code-macro__language">
<span>BASH</span>
</div>
<pre><code class="line-numbers language-bash">git clone -b &lt;branch-name&gt;  https://efcx:RecRpsuH34yqp56YRFUb@gitlab.expertflow.com/cim/cim-solution.git</code></pre>
</div><p><span style="letter-spacing: 0.0px;">and replace the branch name with actual release.</span></p><p><br clear="none"/></p><h3 class="auto-cursor-target" id="id-(4.3)RKE2Single-NodeInstallation(WithoutHA)-Step7:StorageforRKE2Single-NodeInstallation"><span>Step 7: </span>Storage for RKE2 Single-Node Installation</h3><p>The recommended storage option for RKE2 Single-Node Installation is to use OpenEBS. The details of deployment of OpenEBS can be found in this <a data-linked-resource-id="6488701" data-linked-resource-type="page" data-linked-resource-version="1" href="../../cx/4.3/openebs-local-storage-solution">document</a>.</p><p class="auto-cursor-target"><span style="font-size: 16.0px;font-weight: bold;letter-spacing: -0.006em;">Step 8: </span><span style="font-size: 16.0px;font-weight: bold;letter-spacing: -0.006em;">CIM Deployment on Kubernetes</span></p><p class="auto-cursor-target">Please follow the steps in the document, <a data-linked-resource-id="6161786" data-linked-resource-type="page" data-linked-resource-version="3" href="../../cx/4.3/expertflow-cx-deployment-on-kubernetes">Expertflow CX Deployment on Kubernetes</a> to deploy Expertflow CX Solution.</p><p><br clear="none"/></p></div>
</div>
</div>
</div>
<div class="table-overlay full reveal article__content" data-vp-id="js-table-overlay">
<i18n-message attribute="title" i18nkey="modal.cta.close.label">
<button class="close-button table-overlay__close" data-close="" title="Close modal" type="button">
<span aria-hidden="true">×</span>
</button>
</i18n-message>
<div class="table-overlay__content"></div>
</div>
<vp-article-pagination pageid="5636621"></vp-article-pagination>
</section>
</div>
</main>
</div>
</div>
<footer class="footer hc-footer-background-color" data-vp-component="footer">
<div class="grid lg:flex footer--alignment hc-footer-font-color vp-container">
<div class="flex hc-footer-font-color">
<img alt="" class="footer__logo" src="../../__assets-97a95649-cfe7-4cb2-a1a6-99808562388d/image/expertflow-docs-favicon-white-transparent.png"/>
</div>
<div class="grid">
<div class="footer__links">
<a class="hc-footer-font-color" href="https://www.expertflow.com/privacy-policy/" rel="noopener">
                        Data Protection &amp; Privacy Policy 
                    </a>
<span class="footer__links--separator">/</span> <a class="hc-footer-font-color" href="https://www.expertflow.com/bcp/" rel="noopener">
                        Business Continuity Policy
                    </a>
<span class="footer__links--separator">/</span> <a class="hc-footer-font-color" href="https://www.expertflow.com/information-security-policy/" rel="noopener">
                        Information Security Policy
                    </a>
<span class="footer__links--separator">/</span> <a class="hc-footer-font-color" href="https://www.expertflow.com/quality-policy/" rel="noopener">
                        Quality Policy
                    </a>
<span class="footer__links--separator">/</span> <a class="hc-footer-font-color" href="https://www.expertflow.com/transparency/" rel="noopener">
                        Transparency and Anticorruption Policy
                    </a>
</div>
<ul class="footer__attribution-line--copyright hc-footer-font-color">
<li>
<i18n-message i18nkey="footer.copyright.label" options='{ "date": "2025", "by": "Expertflow" }'>
                        Copyright © 2025 Expertflow
                    </i18n-message>
</li>
<li>
<span aria-hidden="true">•</span>
<i18n-message i18nkey="footer.poweredBy.label">Powered by</i18n-message>
<a href="https://www.k15t.com/go/scroll-viewport-cloud-help-center" rel="noopener nofollow">
                            Scroll Viewport
                        </a>
                         
                        &amp;
                         
                        <a href="https://www.atlassian.com/software/confluence" rel="noopener nofollow">
                            Atlassian Confluence
                        </a>
</li>
<li id="vp-js-cookies__reset-link"></li>
</ul>
</div>
</div>
</footer>
<div id="vp-js-mobile__navigation"></div>
<div class="vp-error-log">
<div class="vp-error-log__backdrop"></div>
<div class="vp-error-log__modal">
<div class="vp-error-log__header">
<i18n-message i18nkey="preview.errorLog.header.label" ns="common">
                            JavaScript errors detected
                        </i18n-message>
</div>
<div class="vp-error-log__content">
<p>
<i18n-message i18nkey="preview.errorLog.content.0" ns="common">
                                Please note, these errors can depend on your browser setup.
                            </i18n-message>
</p>
<ul data-error-log-list="">
<template class="vp-error-log__item--template">
<li></li>
</template>
</ul>
<p>
<i18n-message i18nkey="preview.errorLog.content.1" ns="common">
                                If this problem persists, please contact our support.
                            </i18n-message>
</p>
</div>
<div class="vp-error-log__footer">
<a class="vp-button vp-button--primary" href="https://k15t.jira.com/servicedesk/customer/portal/3" rel="noopener">
<i18n-message i18nkey="preview.errorLog.cta.support.label" ns="common">
                                Contact Support
                            </i18n-message>
</a>
<a class="vp-button vp-button--secondary" id="error-log-close-button" tabindex="0">
<i18n-message i18nkey="preview.errorLog.cta.close.label" ns="common">
                                Close
                            </i18n-message>
</a>
</div>
</div>
</div>



</body>
</html>
